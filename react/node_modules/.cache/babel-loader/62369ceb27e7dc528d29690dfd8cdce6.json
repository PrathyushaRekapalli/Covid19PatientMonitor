{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sumanth\\\\OneDrive\\\\Documents\\\\react\\\\patient_monitor\\\\src\\\\components\\\\pattable.js\";\nimport React, { useState, useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { PatTableExtract } from \"./listextractor\";\nimport axios from \"axios\";\nimport { Extract } from \"./extract.js\";\nexport function PatTable() {\n  //set state for apidata\n  const [apiData, setapiData] = useState([]);\n  const [datalen, setdataLen] = useState(0);\n\n  let create_object = () => {\n    return {\n      name: 0,\n      patientId: 0,\n      email: 0,\n      password: 0,\n      address: 0,\n      phone: 0,\n      sex: 0,\n      guardianName: 0,\n      age: 0,\n      height: 0,\n      weight: 0,\n      doctorId: 0\n    };\n  }; // useEffect(async () => {\n  //   await getApiData();\n  //   let x = f(apiData);\n  //   console.log(\"apidata before= \", apiData);\n  //   setapiData(x);\n  //   console.log(\"apidata after= \", apiData);\n  // }, []);\n\n\n  function f(apiData) {\n    // let Details;\n    // try {\n    //   Details = apiData;\n    //   console.log(\"api state \", apiData);\n    // } catch (err) {\n    //   console.log(\"details error \", err);\n    // }\n    console.log(\"api state \", apiData);\n    let Details = apiData;\n    console.log(\"details \", Details);\n    let d = [];\n\n    for (let j = 0; j < Object.keys(Details).length; j++) d[j] = create_object(); //console.log(\"table data: \", d);\n    // console.log(\"d name \", d[0].name);\n\n\n    for (var key in Details) {\n      d[key - 1].name = Details[key].name;\n      d[key - 1].patientId = Details[key].patientId;\n      d[key - 1].address = Details[key].address;\n      d[key - 1].password = Details[key].password;\n      d[key - 1].email = Details[key].email;\n      d[key - 1].phone = Details[key].phone;\n      d[key - 1].guardianName = Details[key].guardianName;\n      d[key - 1].doctorId = Details[key].doctorId;\n      d[key - 1].sex = Details[key].sex;\n      d[key - 1].weight = Details[key].weight;\n      d[key - 1].height = Details[key].height;\n      d[key - 1].age = Details[key].age;\n    }\n\n    console.log(\"create1: \", d);\n    return d;\n  } //request data from api\n\n\n  async function getApiData() {\n    let res2;\n    await axios.get(\"http://7f528d0c0908.ngrok.io/covid19_patient_monitor/get_info\", {\n      params: {\n        a_id: \"ADMIN123\"\n      }\n    }).then(res => {\n      console.log(\"api response \", res); //setapiData(res.data.patients);\n      //let Details = res.data.patients;\n      //return res.data.patients;\n      //console.log(\"state= \", apiData);\n\n      res2 = res.data.patients; // setapiData(res2);\n\n      console.log(\"res2 \", res2);\n    }).catch(err => console.log(\"error \", err));\n    return res2;\n  }\n\n  function table_data() {\n    //getApiData();\n    // let len = apiData;\n    //let Details = apiData;\n    //console.log(\"details \", Details);\n    let Details;\n    Details = getApiData();\n    let d = [];\n\n    for (let j = 0; j < Object.keys(Details).length; j++) d[j] = create_object(); //console.log(\"table data: \", d);\n    // console.log(\"d name \", d[0].name);\n\n\n    for (var key in Details) {\n      d[key - 1].name = Details[key].name;\n      d[key - 1].patientId = Details[key].patientId;\n      d[key - 1].address = Details[key].address;\n      d[key - 1].password = Details[key].password;\n      d[key - 1].email = Details[key].email;\n      d[key - 1].phone = Details[key].phone;\n      d[key - 1].guardianName = Details[key].guardianName;\n      d[key - 1].doctorId = Details[key].doctorId;\n      d[key - 1].sex = Details[key].sex;\n      d[key - 1].weight = Details[key].weight;\n      d[key - 1].height = Details[key].height;\n      d[key - 1].age = Details[key].age;\n    } //console.log(\"create1: \", d);\n\n\n    return d;\n  } //console.log(\"details \", Details);\n  // let d1 = table_data();\n\n\n  let d1 = Extract;\n  console.log(\"create1: \", d1);\n  let [name_list, id_list] = PatTableExtract();\n\n  function create_object2() {\n    return {\n      name: null,\n      id: null\n    };\n  } //try to make a func which would return {name:null,id:null} and make this return happen as many times as there are names in the name list\n\n\n  let data_fn = (name_list, id_list) => {\n    let data = [];\n\n    for (let j = 0; j < name_list.length; j++) data[j] = create_object2(); // data[0].name=n.forEach((p)=>p)\n\n\n    for (let j = 0; j < name_list.length; j++) {\n      data[j].name = name_list[j];\n      data[j].id = id_list[j];\n    }\n\n    return data;\n  }; //let d = data_fn(name_list, id_list);\n  // console.log(\"create2 \", d);\n  // console.log(\"apidata= \", apiData);\n\n\n  let [state, setState] = React.useState({\n    columns: [{\n      title: \"Name\",\n      field: \"name\"\n    }, {\n      title: \"Patient ID\",\n      field: \"patientId\"\n    }, {\n      title: \"Email\",\n      field: \"email\"\n    }, {\n      title: \"Password\",\n      field: \"password\"\n    }, {\n      title: \"Address\",\n      field: \"address\"\n    }, {\n      title: \"Phone Number\",\n      field: \"phone\"\n    }, {\n      title: \"Gender\",\n      field: \"sex\"\n    }, {\n      title: \"Name of Guardian\",\n      field: \"guardianName\"\n    }, {\n      title: \"Age\",\n      field: \"age\"\n    }, {\n      title: \"Height\",\n      field: \"height\"\n    }, {\n      title: \"Weight\",\n      field: \"weight\"\n    }, {\n      title: \"Doctor ID\",\n      field: \"doctorid\"\n    }],\n    //data: apiData,\n    data: data_fn(name_list, id_list) //data: table_data(),\n    // push: { name: null, id: null }\n\n  });\n\n  const get_data = push => {\n    let s = []; //console.log(\"push =\",push)\n\n    for (let j = 0; j < name_list.length + 1; j++) s[j] = create_object2();\n\n    for (let j = 0; j < name_list.length + 1; j++) {\n      s[j].name = push[j].name;\n      s[j].id = push[j].id;\n    } //console.log(q)\n\n\n    return s;\n  };\n\n  const get_data2 = push => {\n    let s = []; //console.log(\"push =\",push)\n\n    for (let j = 0; j < name_list.length; j++) s[j] = create_object2();\n\n    for (let j = 0; j < name_list.length; j++) {\n      s[j].name = push[j].name;\n      s[j].id = push[j].id;\n    } //console.log(q)\n\n\n    return s;\n  };\n\n  const get_data3 = push => {\n    let s = []; //console.log(\"push =\",push)\n\n    for (let j = 0; j < name_list.length - 1; j++) s[j] = create_object2();\n\n    for (let j = 0; j < name_list.length - 1; j++) {\n      s[j].name = push[j].name;\n      s[j].id = push[j].id;\n    } //console.log(q)\n\n\n    return s;\n  }; // let [state, setState] = React.useState({\n  //   columns: [\n  //     { title: 'Name', field: 'name' },\n  //     { title: 'Unique ID', field: 'id' },\n  //   ],\n  //   data: [\n  //     { name: 'Mehmet', id: 307 },\n  //     { name: 'Zerya ',id:891},\n  //     { name: 'Kumar',id:644},\n  //     { name: 'Kovind19',id:6969}\n  //   ],\n  // });\n  //getApiData();\n  // read_details();\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Registered Patients\",\n    columns: state.columns,\n    data: state.data,\n    options: {\n      paging: false\n    },\n    editable: {\n      onRowAdd: newData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.push(newData);\n            state.push = data;\n            let s = get_data(state.push); //object to be pushed with api\n\n            console.log(JSON.stringify(s)); // do api request to send state.push below\n            // axios.post('',JSON.stringify(s))\n            // .then((response)=> console.log(response))\n            // .catch((err)=>console.log(err))\n\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            console.log(\"oldData: \", oldData);\n            setState(prevState => {\n              const data = [...prevState.data];\n              state.push = state.data; // console.log(state.push)\n              // console.log(\"new data: \",newData)\n\n              state.push[data.length - 1] = newData;\n              let s = get_data2(state.push); //object to be pushed\n              //do api request to send state.push below\n\n              data[data.indexOf(oldData)] = newData;\n              return { ...prevState,\n                data\n              };\n            });\n          }\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setState(prevState => {\n            const data = [...prevState.data];\n            data.splice(data.indexOf(oldData), 1);\n            console.log(\"data \", data);\n            state.push = data;\n            let s = get_data3(state.push); //object to pushed\n            //do api request\n            // console.log(\"s= \",s)\n\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/Sumanth/OneDrive/Documents/react/patient_monitor/src/components/pattable.js"],"names":["React","useState","useEffect","MaterialTable","PatTableExtract","axios","Extract","PatTable","apiData","setapiData","datalen","setdataLen","create_object","name","patientId","email","password","address","phone","sex","guardianName","age","height","weight","doctorId","f","console","log","Details","d","j","Object","keys","length","key","getApiData","res2","get","params","a_id","then","res","data","patients","catch","err","table_data","d1","name_list","id_list","create_object2","id","data_fn","state","setState","columns","title","field","get_data","push","s","get_data2","get_data3","paging","onRowAdd","newData","Promise","resolve","setTimeout","prevState","JSON","stringify","onRowUpdate","oldData","indexOf","onRowDelete","splice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { PatTableExtract } from \"./listextractor\";\r\nimport axios from \"axios\";\r\nimport { Extract } from \"./extract.js\";\r\n\r\nexport function PatTable() {\r\n  //set state for apidata\r\n  const [apiData, setapiData] = useState([]);\r\n  const [datalen, setdataLen] = useState(0);\r\n\r\n  let create_object = () => {\r\n    return {\r\n      name: 0,\r\n      patientId: 0,\r\n      email: 0,\r\n      password: 0,\r\n      address: 0,\r\n      phone: 0,\r\n      sex: 0,\r\n      guardianName: 0,\r\n      age: 0,\r\n      height: 0,\r\n      weight: 0,\r\n      doctorId: 0,\r\n    };\r\n  };\r\n\r\n  // useEffect(async () => {\r\n  //   await getApiData();\r\n  //   let x = f(apiData);\r\n  //   console.log(\"apidata before= \", apiData);\r\n  //   setapiData(x);\r\n  //   console.log(\"apidata after= \", apiData);\r\n  // }, []);\r\n\r\n  function f(apiData) {\r\n    // let Details;\r\n    // try {\r\n    //   Details = apiData;\r\n    //   console.log(\"api state \", apiData);\r\n    // } catch (err) {\r\n    //   console.log(\"details error \", err);\r\n    // }\r\n    console.log(\"api state \", apiData);\r\n    let Details = apiData;\r\n    console.log(\"details \", Details);\r\n    let d = [];\r\n    for (let j = 0; j < Object.keys(Details).length; j++)\r\n      d[j] = create_object();\r\n    //console.log(\"table data: \", d);\r\n    // console.log(\"d name \", d[0].name);\r\n    for (var key in Details) {\r\n      d[key - 1].name = Details[key].name;\r\n      d[key - 1].patientId = Details[key].patientId;\r\n      d[key - 1].address = Details[key].address;\r\n      d[key - 1].password = Details[key].password;\r\n      d[key - 1].email = Details[key].email;\r\n      d[key - 1].phone = Details[key].phone;\r\n      d[key - 1].guardianName = Details[key].guardianName;\r\n      d[key - 1].doctorId = Details[key].doctorId;\r\n      d[key - 1].sex = Details[key].sex;\r\n      d[key - 1].weight = Details[key].weight;\r\n      d[key - 1].height = Details[key].height;\r\n      d[key - 1].age = Details[key].age;\r\n    }\r\n\r\n    console.log(\"create1: \", d);\r\n    return d;\r\n  }\r\n  //request data from api\r\n  async function getApiData() {\r\n    let res2;\r\n    await axios\r\n      .get(\"http://7f528d0c0908.ngrok.io/covid19_patient_monitor/get_info\", {\r\n        params: {\r\n          a_id: \"ADMIN123\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        console.log(\"api response \", res);\r\n        //setapiData(res.data.patients);\r\n        //let Details = res.data.patients;\r\n        //return res.data.patients;\r\n        //console.log(\"state= \", apiData);\r\n        res2 = res.data.patients;\r\n        // setapiData(res2);\r\n        console.log(\"res2 \", res2);\r\n      })\r\n      .catch((err) => console.log(\"error \", err));\r\n\r\n    return res2;\r\n  }\r\n\r\n  function table_data() {\r\n    //getApiData();\r\n    // let len = apiData;\r\n    //let Details = apiData;\r\n    //console.log(\"details \", Details);\r\n    let Details;\r\n    Details = getApiData();\r\n    let d = [];\r\n    for (let j = 0; j < Object.keys(Details).length; j++)\r\n      d[j] = create_object();\r\n    //console.log(\"table data: \", d);\r\n    // console.log(\"d name \", d[0].name);\r\n    for (var key in Details) {\r\n      d[key - 1].name = Details[key].name;\r\n      d[key - 1].patientId = Details[key].patientId;\r\n      d[key - 1].address = Details[key].address;\r\n      d[key - 1].password = Details[key].password;\r\n      d[key - 1].email = Details[key].email;\r\n      d[key - 1].phone = Details[key].phone;\r\n      d[key - 1].guardianName = Details[key].guardianName;\r\n      d[key - 1].doctorId = Details[key].doctorId;\r\n      d[key - 1].sex = Details[key].sex;\r\n      d[key - 1].weight = Details[key].weight;\r\n      d[key - 1].height = Details[key].height;\r\n      d[key - 1].age = Details[key].age;\r\n    }\r\n\r\n    //console.log(\"create1: \", d);\r\n    return d;\r\n  }\r\n  //console.log(\"details \", Details);\r\n\r\n  // let d1 = table_data();\r\n  let d1 = Extract;\r\n  console.log(\"create1: \", d1);\r\n\r\n  let [name_list, id_list] = PatTableExtract();\r\n  function create_object2() {\r\n    return {\r\n      name: null,\r\n      id: null,\r\n    };\r\n  }\r\n  //try to make a func which would return {name:null,id:null} and make this return happen as many times as there are names in the name list\r\n  let data_fn = (name_list, id_list) => {\r\n    let data = [];\r\n    for (let j = 0; j < name_list.length; j++) data[j] = create_object2();\r\n    // data[0].name=n.forEach((p)=>p)\r\n    for (let j = 0; j < name_list.length; j++) {\r\n      data[j].name = name_list[j];\r\n      data[j].id = id_list[j];\r\n    }\r\n    return data;\r\n  };\r\n  //let d = data_fn(name_list, id_list);\r\n  // console.log(\"create2 \", d);\r\n  // console.log(\"apidata= \", apiData);\r\n\r\n  let [state, setState] = React.useState({\r\n    columns: [\r\n      { title: \"Name\", field: \"name\" },\r\n      { title: \"Patient ID\", field: \"patientId\" },\r\n      { title: \"Email\", field: \"email\" },\r\n      { title: \"Password\", field: \"password\" },\r\n      { title: \"Address\", field: \"address\" },\r\n      { title: \"Phone Number\", field: \"phone\" },\r\n      { title: \"Gender\", field: \"sex\" },\r\n      { title: \"Name of Guardian\", field: \"guardianName\" },\r\n      { title: \"Age\", field: \"age\" },\r\n      { title: \"Height\", field: \"height\" },\r\n      { title: \"Weight\", field: \"weight\" },\r\n      { title: \"Doctor ID\", field: \"doctorid\" },\r\n    ],\r\n    //data: apiData,\r\n    data: data_fn(name_list, id_list),\r\n    //data: table_data(),\r\n    // push: { name: null, id: null }\r\n  });\r\n\r\n  const get_data = (push) => {\r\n    let s = [];\r\n    //console.log(\"push =\",push)\r\n    for (let j = 0; j < name_list.length + 1; j++) s[j] = create_object2();\r\n    for (let j = 0; j < name_list.length + 1; j++) {\r\n      s[j].name = push[j].name;\r\n      s[j].id = push[j].id;\r\n    }\r\n    //console.log(q)\r\n    return s;\r\n  };\r\n  const get_data2 = (push) => {\r\n    let s = [];\r\n    //console.log(\"push =\",push)\r\n    for (let j = 0; j < name_list.length; j++) s[j] = create_object2();\r\n    for (let j = 0; j < name_list.length; j++) {\r\n      s[j].name = push[j].name;\r\n      s[j].id = push[j].id;\r\n    }\r\n    //console.log(q)\r\n    return s;\r\n  };\r\n  const get_data3 = (push) => {\r\n    let s = [];\r\n    //console.log(\"push =\",push)\r\n    for (let j = 0; j < name_list.length - 1; j++) s[j] = create_object2();\r\n    for (let j = 0; j < name_list.length - 1; j++) {\r\n      s[j].name = push[j].name;\r\n      s[j].id = push[j].id;\r\n    }\r\n    //console.log(q)\r\n    return s;\r\n  };\r\n  // let [state, setState] = React.useState({\r\n  //   columns: [\r\n  //     { title: 'Name', field: 'name' },\r\n  //     { title: 'Unique ID', field: 'id' },\r\n  //   ],\r\n  //   data: [\r\n  //     { name: 'Mehmet', id: 307 },\r\n  //     { name: 'Zerya ',id:891},\r\n  //     { name: 'Kumar',id:644},\r\n  //     { name: 'Kovind19',id:6969}\r\n  //   ],\r\n  // });\r\n  //getApiData();\r\n  // read_details();\r\n  return (\r\n    <div>\r\n      <MaterialTable\r\n        title=\"Registered Patients\"\r\n        columns={state.columns}\r\n        data={state.data}\r\n        options={{\r\n          paging: false,\r\n        }}\r\n        editable={{\r\n          onRowAdd: (newData) =>\r\n            new Promise((resolve) => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                setState((prevState) => {\r\n                  const data = [...prevState.data];\r\n                  data.push(newData);\r\n                  state.push = data;\r\n                  let s = get_data(state.push); //object to be pushed with api\r\n                  console.log(JSON.stringify(s));\r\n                  // do api request to send state.push below\r\n                  // axios.post('',JSON.stringify(s))\r\n                  // .then((response)=> console.log(response))\r\n                  // .catch((err)=>console.log(err))\r\n                  return { ...prevState, data };\r\n                });\r\n              }, 600);\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve) => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                if (oldData) {\r\n                  console.log(\"oldData: \", oldData);\r\n                  setState((prevState) => {\r\n                    const data = [...prevState.data];\r\n                    state.push = state.data;\r\n                    // console.log(state.push)\r\n                    // console.log(\"new data: \",newData)\r\n                    state.push[data.length - 1] = newData;\r\n                    let s = get_data2(state.push); //object to be pushed\r\n                    //do api request to send state.push below\r\n                    data[data.indexOf(oldData)] = newData;\r\n                    return { ...prevState, data };\r\n                  });\r\n                }\r\n              }, 600);\r\n            }),\r\n          onRowDelete: (oldData) =>\r\n            new Promise((resolve) => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                setState((prevState) => {\r\n                  const data = [...prevState.data];\r\n                  data.splice(data.indexOf(oldData), 1);\r\n                  console.log(\"data \", data);\r\n                  state.push = data;\r\n                  let s = get_data3(state.push); //object to pushed\r\n                  //do api request\r\n                  // console.log(\"s= \",s)\r\n                  return { ...prevState, data };\r\n                });\r\n              }, 600);\r\n            }),\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}